"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2388],{2388:function(e,r,t){t.r(r),t.d(r,{default:function(){return U}});var a=t(7437),o=t(2265),n=t(1720),i=t(9168),s=t(6463),l=t(1804),c=t(7152);let d=(0,o.createContext)(null),h=e=>{let{children:r}=e,[t,a]=(0,o.useState)("Degrees"),[n,i]=(0,o.useState)(null),[s,l]=(0,o.useState)(null),h=(0,o.useRef)(!1),m=(0,o.useCallback)(e=>{l(r=>(h.current||r||!e||(c.j("overlay_shown",{page:"chord_progression",control:"chord"}),h.current=!0),e))},[]),u=(0,o.useCallback)(()=>{l(null),c.j("overlay_reset",{page:"chord_progression"})},[]);return o.createElement(d.Provider,{value:{viewMode:t,scale:n,chord:s,setViewMode:e=>{e!==t&&(a(e),c.j("fb_toggle",{page:"chord_progression",value:e}))},setScale:i,setChordFromUser:m,resetChord:u,setScaleLayer:e=>i(e),resetChordLayer:()=>u()}},r)};var m=t(1690),u=t(888),f=t(3561),p=t(4018),g=t(7483),x=t(926),b=t(5618);async function y(e,r){try{let t=window.__SCALES_API__;if(!(null==t?void 0:t.getScalePitchesById))return;let a=t.getScalePitchesById(e,r),o=a.slice(0,Math.min(5,a.length)),n=o.slice(),i=o.slice().reverse().slice(1),s=[...n,...i];for(let e of(await b.h.resume(),s))b.h.playNote(60+e,100),await new Promise(e=>setTimeout(e,100));(0,c.j)("scale_arpeggio_play",{page:"find-chords",scaleId:r,rootPc:e})}catch(e){}}var v=function(e){let{chordQuality:r,rootPc:t,onPreviewScale:n,onResetPreview:i,openGlossary:s,activeScaleId:l}=e,{scales:d}=function(e){switch(e){case"maj":case"maj7":return{scales:["Ionian","Lydian"],why:["maj_ionian","maj_lydian"]};case"min":case"m7":return{scales:["Aeolian","Dorian","Phrygian"],why:["min_aeolian","min_dorian","min_phrygian"]};case"dom7":case"7":return{scales:["Mixolydian","Altered"],why:["dom_mixolydian","dom_altered"]};case"m7b5":return{scales:["Locrian","DiminishedWholeHalf"],why:["m7b5_locrian","dim_wh"]};case"dim":return{scales:["DiminishedWholeHalf","Locrian"],why:["dim_wh","m7b5_locrian"]}}}(r),h=(0,o.useRef)(null);return(0,u.H)(h,{orientation:"horizontal"}),(0,a.jsx)("div",{className:"ot-scale-table","data-testid":"scale-chips","aria-label":"Suggested scales",children:(0,a.jsxs)("details",{className:"rounded border p-2 bg-background/40",children:[(0,a.jsx)("summary",{className:"text-sm cursor-pointer select-none",children:"Suggested scales for this chord"}),(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between gap-2",children:[(0,a.jsx)("div",{role:"tablist","aria-label":"Preview scale",className:"flex flex-wrap gap-2",ref:h,children:d.map((e,o)=>(0,a.jsxs)("div",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)("button",{role:"tab",className:["chip",l===e?"chip--active":""].join(" "),onClick:()=>{n(e),(0,c.j)("overlay_shown",{control:"scale",scaleId:e}),y(t,e)},"aria-describedby":"why-".concat(e),"data-roving":"item",children:function(e,r,t){if("maj"===r||"maj7"===r){if(0===t)return"Ionian (Major Scale)";if(1===t)return"Lydian (#4 Color)"}if("min"===r||"m7"===r){if(0===t)return"Aeolian (Natural Minor)";if(1===t)return"Dorian (Bright Minor)";if(2===t)return"Phrygian (Dark Minor)"}if("dom7"===r||"7"===r){if(0===t)return"Mixolydian (Dominant)";if(1===t)return"Altered (Tension)"}if("m7b5"===r){if(0===t)return"Locrian (Half-Dim)";if(1===t)return"Whole–Half Dim"}if("dim"===r){if(0===t)return"Whole–Half Dim";if(1===t)return"Locrian"}return e}(e,r,o)}),(0,a.jsx)("button",{type:"button",className:"inline-flex items-center justify-center w-5 h-5 rounded-full text-xs opacity-60 hover:opacity-100 hover:bg-black/5 dark:hover:bg-white/10 transition-opacity",onClick:()=>s(e),"aria-label":"Learn more about ".concat(e),title:"Learn more in Glossary",children:"ⓘ"})]},e))}),(0,a.jsx)("button",{className:"btn-ghost text-xs ml-auto",onClick:i,children:"Reset"})]}),(0,a.jsx)("div",{className:"mt-2 flex flex-wrap gap-x-4 gap-y-1 items-center text-xs opacity-80",children:d.map(e=>(0,a.jsx)("span",{id:"why-".concat(e),children:{maj_ionian:"Foundation for major chords – fits all diatonic tones",maj_lydian:"Bright color with raised 4th (#11) – jazz/modern sound",maj_mixolydian:"Dominant-like major – contains the b7 for blues flavor",min_aeolian:"Natural minor foundation – matches all minor scale tones",min_dorian:"Brighter minor with natural 6th – popular in jazz and funk",min_phrygian:"Dark minor with flat 2nd – Spanish/flamenco character",min_harmonic:"Dramatic minor with raised 7th – classical and exotic sound",min_melodic:"Jazz minor – ascending melodic scale with natural 6th and 7th",dom_mixolydian:"Perfect for dominant 7th – contains the b7 tension",dom_altered:"Maximum tension – all alterations (b9, #9, #11, b13)",dom_wholetone:"Symmetrical whole-tone pattern – dreamy, unresolved quality",m7b5_locrian:"Outlines half-diminished chord – starts on the 7th degree",dim_wh:"Symmetrical whole-half pattern – creates tension over diminished chords"}[({Ionian:"maj_ionian",Lydian:"maj_lydian",Aeolian:"min_aeolian",Dorian:"min_dorian",Phrygian:"min_phrygian",Mixolydian:"dom_mixolydian",Locrian:"m7b5_locrian",DiminishedWholeHalf:"dim_wh",Altered:"dom_altered",HarmonicMinor:"min_harmonic",MelodicMinor:"min_melodic",WholeTone:"dom_wholetone"})[e]]||""},"why-".concat(e)))})]})})},j=t(4887);function w(e){let{at:r,quality:t,rootPc:n,onPick:i,onClose:s,page:l="analyze"}=e,d=(0,o.useRef)(null),h=(0,o.useRef)(s);h.current=s;let m=(0,o.useRef)(!1),f=(0,o.useRef)(!1),p=(0,o.useRef)(null);(0,u.H)(p,{orientation:"horizontal"}),(0,o.useEffect)(()=>{var e;m.current||(m.current=!0,(0,c.pc)({control:"forms",open:!0,page:l}));let r=null===(e=d.current)||void 0===e?void 0:e.querySelector("button");function t(e){"Escape"===e.key&&h.current()}function a(e){d.current&&!d.current.contains(e.target)&&h.current()}return null==r||r.focus({preventScroll:!0}),document.addEventListener("keydown",t),document.addEventListener("mousedown",a),()=>{document.removeEventListener("keydown",t),document.removeEventListener("mousedown",a)}},[l]);let g={position:"fixed",left:r.x,top:r.y,zIndex:2147483647,pointerEvents:"auto"},x=e=>{f.current||(f.current=!0,(0,c.pc)({control:"forms",value:e,page:l}),i(e),s())},y=async e=>{try{await b.h.resume();let r=("maj"===t?[0,4,7]:[0,3,7]).map(e=>60+n+e);b.h.playChord(r,"lightStrum",300),(0,c.j)("play_chord",{page:l,source:"form_preview",kind:e})}catch(e){}},v=(0,a.jsxs)("div",{role:"dialog","aria-modal":"true","aria-label":"Chord forms",ref:d,style:g,className:"ot-pop",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("p",{className:"ot-h3",style:{margin:0},children:"Chord Forms"}),(0,a.jsx)("button",{type:"button",onClick:s,className:"text-xs opacity-60 hover:opacity-100 px-2 py-1 rounded hover:bg-black/5 dark:hover:bg-white/10","aria-label":"Close",children:"✕"})]}),(0,a.jsxs)("p",{className:"text-xs opacity-70 mb-3",children:["Select a fingering pattern for ","maj"===t?"major":"minor"," chord"]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",ref:p,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{type:"button","data-roving":"item",onClick:()=>x("open"),className:"flex-1 px-3 py-2 rounded border text-left hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[(0,a.jsx)("div",{className:"font-medium",children:"Open Position"}),(0,a.jsx)("div",{className:"text-xs opacity-70",children:"Uses open strings"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>y("open"),className:"w-8 h-8 flex items-center justify-center rounded border hover:bg-black/5 dark:hover:bg-white/10 transition-colors","aria-label":"Preview open position",title:"Preview sound",children:"▶"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{type:"button","data-roving":"item",onClick:()=>x("barreE"),className:"flex-1 px-3 py-2 rounded border text-left hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[(0,a.jsx)("div",{className:"font-medium",children:"Barre (E-shape)"}),(0,a.jsx)("div",{className:"text-xs opacity-70",children:"6th string root"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>y("barreE"),className:"w-8 h-8 flex items-center justify-center rounded border hover:bg-black/5 dark:hover:bg-white/10 transition-colors","aria-label":"Preview E-shape barre",title:"Preview sound",children:"▶"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{type:"button","data-roving":"item",onClick:()=>x("barreA"),className:"flex-1 px-3 py-2 rounded border text-left hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[(0,a.jsx)("div",{className:"font-medium",children:"Barre (A-shape)"}),(0,a.jsx)("div",{className:"text-xs opacity-70",children:"5th string root"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>y("barreA"),className:"w-8 h-8 flex items-center justify-center rounded border hover:bg-black/5 dark:hover:bg-white/10 transition-colors","aria-label":"Preview A-shape barre",title:"Preview sound",children:"▶"})]})]}),(0,a.jsx)("p",{className:"ot-hint mt-3",children:"Right-click or long-press a chord to open."})]});return"undefined"!=typeof document?(0,j.createPortal)(v,document.body):v}function k(e){return(e%12+12)%12}function N(e,r){let t=k(r);for(let r=1;r<=12;r++)if(k(e+r)===t)return r;return 1}let C={1:e=>{let{rootPc:r}=e;return[{chord:"".concat((0,x.Wo)(r),"maj7"),reason:"Richer tonic sound with major 7th",examples:["The Girl from Ipanema","Fly Me to the Moon"]},{chord:"".concat((0,x.Wo)(r),"6"),reason:"Jazz tonic with added 6th",examples:["All the Things You Are","Autumn Leaves"]},{chord:"".concat((0,x.Wo)((0,x.Jt)(r+9)),"m"),reason:"Relative minor shares the same notes",examples:["Let It Be","No Woman No Cry"]}]},2:e=>{let{rootPc:r,key:t}=e;return[{chord:"".concat((0,x.Wo)(r),"m7"),reason:"Jazz ii with minor 7th",examples:["Autumn Leaves","Fly Me to the Moon"]},{chord:(0,x.Wo)((0,x.Jt)(t.tonic+5)),reason:"IV chord shares subdominant function",examples:["Let It Be","Hey Jude"]}]},4:e=>{let{rootPc:r,key:t}=e;return[{chord:"".concat((0,x.Wo)(r),"maj7"),reason:"Lydian color with major 7th",examples:["The Girl from Ipanema","Dreams (Fleetwood Mac)"]},{chord:"".concat((0,x.Wo)((0,x.Jt)(t.tonic+2)),"m"),reason:"ii chord shares subdominant function",examples:["Autumn Leaves","Fly Me to the Moon"]},{chord:"".concat((0,x.Wo)(r),"m"),reason:"Borrowed minor IV for color",examples:["Yesterday","Creep"]}]},5:e=>{let{rootPc:r,key:t}=e;return[{chord:"".concat((0,x.Wo)(r),"7"),reason:"Dominant 7th creates strong tension",examples:["Sweet Home Alabama","Twist and Shout"]},{chord:"".concat((0,x.Wo)(r),"sus4"),reason:"Suspended 4th delays resolution",examples:["Pinball Wizard","The Edge of Glory"]},{chord:"".concat((0,x.Wo)((0,x.Jt)(t.tonic+11)),"dim"),reason:"vii\xb0 shares dominant function",examples:["Girl from Ipanema","Michelle"]}]},6:e=>{let{rootPc:r,key:t}=e;return[{chord:"".concat((0,x.Wo)(r),"m7"),reason:"Jazz minor with added 7th",examples:["Stairway to Heaven","Hotel California"]},{chord:(0,x.Wo)(t.tonic),reason:"Relative major shares the same notes",examples:["Let It Be","Hey Jude"]}]}},S={1:e=>{let{rootPc:r}=e;return[{chord:"".concat((0,x.Wo)(r),"m7"),reason:"Natural minor 7th",examples:["Stairway to Heaven","Smooth"]},{chord:"".concat((0,x.Wo)(r),"m6"),reason:"Minor 6th for Dorian color",examples:["Scarborough Fair","So What"]},{chord:(0,x.Wo)((0,x.Jt)(r+3)),reason:"Relative major (bIII) shares notes",examples:["Stairway to Heaven","All Along the Watchtower"]}]},4:e=>{let{rootPc:r}=e;return[{chord:"".concat((0,x.Wo)(r),"m7"),reason:"Minor 7th for subdominant color",examples:["Light My Fire","Losing My Religion"]}]},5:e=>{let{rootPc:r,quality:t}=e;return"min"===t?[{chord:"".concat((0,x.Wo)(r),"7"),reason:"Raised 3rd (V7) for stronger resolution",examples:["Stairway to Heaven","House of the Rising Sun"]}]:[{chord:"".concat((0,x.Wo)(r),"7"),reason:"Dominant 7th for tension",examples:["Smooth","Black Magic Woman"]}]}};var M=t(4120);function _(e){let{substitute:r,onPlay:t,onAdd:o}=e;return(0,a.jsxs)("div",{className:"rounded border p-2 bg-white dark:bg-neutral-900/50 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-base",children:r.chord}),(0,a.jsx)("div",{className:"text-sm opacity-80 mt-0.5",children:r.reason})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{type:"button",onClick:()=>t(r),className:"w-8 h-8 flex items-center justify-center rounded border hover:bg-black/5 dark:hover:bg-white/10 transition-colors","aria-label":"Preview ".concat(r.chord),title:"Preview sound","data-roving":"item",children:"▶"}),o&&(0,a.jsx)("button",{type:"button",onClick:()=>o(r),className:"px-2 py-1 text-xs rounded border bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 hover:bg-emerald-100 dark:hover:bg-emerald-900/50 transition-colors","aria-label":"Add ".concat(r.chord," to progression"),title:"Add to progression",children:"+ Add"})]})]}),r.examples&&r.examples.length>0&&(0,a.jsxs)("div",{className:"text-xs opacity-60 mt-1 flex items-center gap-1",children:[(0,a.jsx)("span",{className:"opacity-70",children:"Examples:"}),(0,a.jsx)("span",{children:r.examples.join(" \xb7 ")})]})]})}var A=function(e){let{rootPc:r,quality:t,degree:n,keyContext:i,onAdd:s,page:l="find-chords"}=e,d=(0,o.useRef)(null);(0,u.H)(d,{orientation:"horizontal"});let h=(0,o.useMemo)(()=>({rootPc:r,quality:t,degree:n,key:i}),[r,t,n,i]),m=(0,o.useMemo)(()=>(function(e){let{degree:r,key:t}=e,a=("Major"===t.mode?C:S)[r];return(a?a(e):function(e){let{rootPc:r,quality:t}=e,a=[];return"maj"===t?a.push({chord:"".concat((0,x.Wo)(r),"maj7"),reason:"Added major 7th for richer sound"}):"min"===t&&a.push({chord:"".concat((0,x.Wo)(r),"m7"),reason:"Added minor 7th for jazz flavor"}),a}(e)).slice(0,3)})(h),[h]);(0,o.useEffect)(()=>{m.length>0&&(0,c.j)("substitute_shown",{page:l,rootPc:r,quality:t,degree:n,count:m.length})},[m,l,r,t,n]);let f=(0,o.useCallback)(async e=>{try{await b.h.resume();let r=(0,M.h)(e.chord);if(!r||0===r.length){console.warn("Failed to parse chord: ".concat(e.chord));return}b.h.playChord(r,"lightStrum",300),(0,c.j)("play_chord",{page:l,source:"substitute_preview",chord:e.chord})}catch(e){console.error("Failed to play substitute chord:",e)}},[l]),p=(0,o.useCallback)(e=>{s&&(s(e.chord),(0,c.j)("substitute_add",{page:l,rootPc:r,originalQuality:t,substituteChord:e.chord}))},[s,l,r,t]);return 0===m.length?null:(0,a.jsxs)("details",{className:"rounded border p-2 bg-background/40 mt-2",children:[(0,a.jsxs)("summary",{className:"text-sm cursor-pointer select-none font-medium",children:["Substitute Chords (",m.length,")"]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("p",{className:"text-xs opacity-70 mb-3 px-1",children:"Alternative chords with similar harmonic function"}),(0,a.jsx)("div",{className:"space-y-2",ref:d,children:m.map((e,r)=>(0,a.jsx)(_,{substitute:e,onPlay:f,onAdd:s?p:void 0},"".concat(e.chord,"-").concat(r)))})]})]})},P=t(6238);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let L=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),I=e=>{let r=D(e);return r.charAt(0).toUpperCase()+r.slice(1)},W=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()},z=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let F=(0,o.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:l,iconNode:c,...d}=e;return(0,o.createElement)("svg",{ref:r,...H,width:a,height:a,stroke:t,strokeWidth:i?24*Number(n)/Number(a):n,className:W("lucide",s),...!l&&!z(d)&&{"aria-hidden":"true"},...d},[...c.map(e=>{let[r,t]=e;return(0,o.createElement)(r,t)}),...Array.isArray(l)?l:[l]])}),R=(e,r)=>{let t=(0,o.forwardRef)((t,a)=>{let{className:n,...i}=t;return(0,o.createElement)(F,{ref:a,iconNode:r,className:W("lucide-".concat(L(I(e))),"lucide-".concat(e),n),...i})});return t.displayName=I(e),t},E=R("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),B=R("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),T={Basic:{icon:E,color:"text-blue-600",bgColor:"bg-blue-50"},Modes:{icon:B,color:"text-purple-600",bgColor:"bg-purple-50"},"Pentatonic & Blues":{icon:R("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),color:"text-orange-600",bgColor:"bg-orange-50"},"Minor family":{icon:R("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),color:"text-red-600",bgColor:"bg-red-50"},Advanced:{icon:R("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),color:"text-indigo-600",bgColor:"bg-indigo-50"}};var q=t(9089);let O=R("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),V=R("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var G=t(4591),J=t(8625),Z=t(9871);function U(){return(0,a.jsx)(o.Suspense,{fallback:(0,a.jsx)("div",{className:"ot-page",children:"Loading..."}),children:(0,a.jsx)(K,{})})}function K(){let e=(0,s.useSearchParams)(),{locale:r}=(0,J.b)(),t=Z.s[r],d=(0,o.useMemo)(()=>x.Mw,[]),b=g.l7,[y,j]=(0,o.useState)(e.get("key")||"C"),k="minor"===e.get("mode")?"Aeolian":"Ionian",[C,S]=(0,o.useState)(k),M=(0,o.useMemo)(()=>{var e;let r=b.find(e=>e.id===C);return(null!==(e=null==r?void 0:r.degrees.length)&&void 0!==e?e:7)===7},[C]);(0,o.useMemo)(()=>{let e=b.find(e=>e.id===C);if(7!==e.degrees.length)return[];let r="Aeolian"===e.id?"minor":"major";return(0,i.I)({tonic:y,quality:r,scale:e.id}).chords},[y,C]),(0,o.useMemo)(()=>"Aeolian"===C?"minor":"major",[C]);let _=(0,o.useRef)(null);(0,u.H)(_,{orientation:"horizontal"});let P=(0,o.useRef)(null);(0,u.H)(P,{orientation:"horizontal"});let[L,D]=(0,o.useState)("degrees"),[I,W]=(0,o.useState)(0),[z,H]=(0,o.useState)(null),[F,R]=(0,o.useState)(null),[E,B]=(0,o.useState)(null),[T,q]=(0,o.useState)(null),[O,V]=(0,o.useState)(null),[U,K]=(0,o.useState)(null),$=(0,o.useCallback)(()=>{V(null),K(null)},[]),{selectKey:X}=(0,f._)(),ee=e=>{j(e);let r="major"==("Aeolian"===C?"minor":"major")?"Major":"Minor";X({tonic:d.indexOf(e),mode:r}),(0,c.j)("key_pick",{page:"find-chords",key:e,mode:r}),er()},er=(0,o.useCallback)(async()=>{X({tonic:d.indexOf(y),mode:"major"==("Aeolian"===C?"minor":"major")?"Major":"Minor"}),H(null)},[y,C,X]);(0,o.useEffect)(()=>{er()},[er]);let et=(0,o.useMemo)(()=>d.indexOf(y),[y]),ea=(0,o.useMemo)(()=>C,[C]),eo=(0,o.useCallback)(()=>{D("degrees"),W(0),H(null),R(null),B(null),q(null),$(),(0,c.j)("overlay_reset",{page:"find-chords",scale:C,key:y})},[et,ea,$]);return(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&eo()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[eo]),x.Mw,(0,a.jsx)(h,{children:(0,a.jsxs)("main",{className:"ot-page ot-stack","data-page":"find-chords",children:[(0,a.jsx)("h1",{className:"sr-only",children:"Find Chords"}),(0,a.jsxs)("section",{className:"ot-card",children:[(0,a.jsx)("h2",{className:"ot-h2",children:t.findChords.selectKeyScale}),(0,a.jsxs)("div",{className:"mt-3 grid sm:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:t.findChords.key}),(0,a.jsx)("div",{className:"flex flex-col gap-2",role:"tablist","aria-label":"Select key",ref:_,children:[["C","C#","D","Eb","E","F"],["F#","G","Ab","A","Bb","B"]].map((e,r)=>(0,a.jsx)("div",{ref:0===r?_:void 0,className:"flex flex-wrap gap-2",children:e.map(e=>(0,a.jsx)("button",{role:"tab","aria-selected":y===e,tabIndex:y===e?0:-1,className:["chip","chip--key",y===e?"chip--active":""].join(" "),"data-roving":"item",onClick:()=>{ee(e)},title:"Key ".concat(e),children:e},e))},"krow-".concat(r)))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"scale",className:"block text-sm mb-1",children:[(0,a.jsx)("span",{children:t.findChords.scale}),(()=>{var e,r,t,o;let n=b.find(e=>e.id===C),i=(0,p.p3)(0,n.id).map(e=>x.Mw[e]).join(" "),s="".concat(n.group," scale — ").concat(n.degrees.length,"-note pattern.");return(0,a.jsx)(G.Z,{title:n.display.en,className:"ml-2",linkHref:"/resources/glossary",linkLabel:"Glossary",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("div",{className:"mb-1",children:[(0,a.jsx)("b",{children:"Degrees:"})," ",n.degrees.join(" ")]}),(0,a.jsxs)("div",{className:"mb-1",children:[(0,a.jsx)("b",{children:"Notes in C:"})," ",i]}),(0,a.jsxs)("div",{className:"mb-1",children:[(0,a.jsx)("b",{children:"About:"})," ",null!==(o=null===(e=n.info)||void 0===e?void 0:e.oneLiner)&&void 0!==o?o:s]}),!!(null===(t=n.info)||void 0===t?void 0:null===(r=t.examples)||void 0===r?void 0:r.length)&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("b",{className:"text-xs",children:"Song examples"}),(0,a.jsx)("ul",{className:"text-xs mt-1 space-y-1",children:n.info.examples.map((e,r)=>(0,a.jsxs)("li",{children:[e.url?(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:e.title}):e.title,e.artist?" — ".concat(e.artist):"",e.cue?" (".concat(e.cue,")"):""]},r))})]})]})})})()]}),(0,a.jsx)(Y,{selectedScaleId:C,onScaleSelect:e=>{S(e),d.indexOf(y),(0,c.j)("scale_pick",{page:"find-chords",scale:e,key:y}),er()},locale:r})]})]})]}),(0,a.jsxs)("section",{className:"ot-card",children:[(0,a.jsx)("h2",{className:"ot-h2",children:t.findChords.result}),(0,a.jsxs)("div",{className:"ot-stack",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"ot-h3 flex items-center gap-2",children:[(0,a.jsx)("span",{children:t.findChords.diatonic}),(0,a.jsxs)(G.Z,{title:"Diatonic chords",linkHref:"/resources/glossary",linkLabel:"Glossary",children:[(0,a.jsx)("p",{className:"text-sm",children:"Chords built only from the key’s scale tones (I–ii–iii–IV–V–vi–vii\xb0)."}),(0,a.jsx)("p",{className:"text-sm mt-2",children:"Capo rows show the shapes you fret. The sounding chord tones on the fretboard are the same as the Open row."}),(0,a.jsx)("p",{className:"text-xs mt-1",children:"See details in Reference → Capo & Shapes"})]})]}),!M&&(0,a.jsx)("p",{className:"text-xs text-foreground/70 mt-1",children:"This scale is not heptatonic; Roman numerals are hidden. Diatonic suggestions are limited to the Open row."}),(0,a.jsx)("div",{"data-testid":M?void 0:"diatonic-open-only",children:(0,a.jsx)(m.Z,{selectedId:E,onSelectId:e=>{E!==e&&B(e)},onPick:e=>{let{pcs:r}=e;H(r.map(e=>x.Mw[e])),q(r),$(),(0,c.j)("diatonic_pick",{page:"find-chords",id:E,scale:C,key:y})}})})]}),E&&T&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(v,{chordQuality:Q(T),rootPc:et,onPreviewScale:e=>{R(e)},onResetPreview:()=>{R(null),eo()},openGlossary:e=>{try{window.open("/resources/glossary","_blank")}catch(e){}},activeScaleId:F})}),E&&T&&(0,a.jsx)(A,{rootPc:et,quality:Q(T),degree:parseInt(E.split("-")[1]||"0",10)+1,keyContext:{tonic:d.indexOf(y),mode:"Aeolian"===C?"Minor":"Major"},page:"find-chords"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"ot-h3 flex items-center justify-between",children:[(0,a.jsx)("span",{children:t.findChords.fretboard}),(0,a.jsxs)("span",{ref:P,className:"flex items-center gap-2",role:"tablist","aria-orientation":"horizontal","aria-label":"Fretboard notation",children:[(0,a.jsx)("button",{role:"tab","aria-selected":"degrees"===L,tabIndex:"degrees"===L?0:-1,className:["chip","degrees"===L?"chip--on":""].join(" "),"data-roving":"item",onClick:()=>{$(),D("degrees")},children:t.findChords.degrees}),(0,a.jsx)("button",{role:"tab","aria-selected":"names"===L,tabIndex:"names"===L?0:-1,className:["chip","names"===L?"chip--on":""].join(" "),"data-roving":"item",onClick:()=>{$(),D("names")},children:t.findChords.names}),E&&(0,a.jsx)("button",{role:"tab","aria-selected":!1,tabIndex:-1,className:"chip",onClick:eo,"aria-label":"Reset",children:"Reset"})]})]}),(0,a.jsx)(l.Z,{overlay:{viewMode:"sounding",capo:I,display:L,scaleRootPc:et,scaleType:null!=F?F:ea,showScaleGhost:!!E,chordNotes:null!=z?z:void 0,context:{chordRootPc:T&&T.length?T[0]:void 0,quality:(()=>{let e=null!=T?T:[];return"min"===Q(e.length?e:[et])?"min":"maj"})()}},onRequestForms:(e,r)=>{V({at:e,rootPc:r.rootPc,quality:r.quality})},formShape:U})]})]})]}),(0,a.jsx)("section",{className:"ot-card ad-placeholder","aria-label":"Ad",children:(0,a.jsx)(n.default,{page:"find_chords",format:"horizontal"})}),O&&(0,a.jsx)(w,{at:O.at,quality:O.quality,rootPc:O.rootPc,page:"find-chords",onPick:e=>{var r,t,a;K((r=e,t=O.quality,a=O.rootPc,"open"===r?{kind:"open",quality:t,rootPc:a,rootString:6,dots:"maj"===t?[{string:6,fret:0,deg:"1"},{string:5,fret:2,deg:"5"},{string:4,fret:2,deg:"1"},{string:3,fret:1,deg:"3"},{string:2,fret:0,deg:"5"},{string:1,fret:0,deg:"1"}]:[{string:6,fret:0,deg:"1"},{string:5,fret:2,deg:"5"},{string:4,fret:2,deg:"1"},{string:3,fret:0,deg:"b3"},{string:2,fret:0,deg:"5"},{string:1,fret:0,deg:"1"}]}:"barreE"===r?function(e,r){let t=N(4,r);return{kind:"barreE",quality:e,rootPc:r,rootString:6,dots:[{string:6,fret:t,deg:"1"},{string:5,fret:t+2,deg:"5"},{string:4,fret:t+2,deg:"1"},{string:3,fret:"maj"===e?t+1:t,deg:"maj"===e?"3":"b3"},{string:2,fret:t,deg:"5"},{string:1,fret:t,deg:"1"}],barre:{stringFrom:6,fret:t}}}(t,a):function(e,r){let t=N(9,r);return{kind:"barreA",quality:e,rootPc:r,rootString:5,dots:[{string:5,fret:t,deg:"1"},{string:4,fret:t+2,deg:"5"},{string:3,fret:"maj"===e?t+2:t,deg:"maj"===e?"3":"b3"},{string:2,fret:t+2,deg:"1"},{string:1,fret:t,deg:"5"}],barre:{stringFrom:5,fret:t}}}(t,a)))},onClose:()=>V(null)})]})})}function Q(e){let r=new Set(e.map(r=>(r-e[0]+12)%12));return r.has(0)&&r.has(4)&&r.has(7)?"maj":r.has(0)&&r.has(3)&&r.has(7)?"min":r.has(0)&&r.has(3)&&r.has(6)?"dim":r.has(0)&&r.has(4)&&r.has(7)&&r.has(10)?"dom7":r.has(0)&&r.has(3)&&r.has(6)&&r.has(10)?"m7b5":"maj"}function Y(e){let{selectedScaleId:r,onScaleSelect:t,locale:n}=e;Z.s[n];let[i,s]=(0,o.useState)(new Set(["Basic"])),l=(0,P.tG)(),c=e=>({Ionian:"major",Aeolian:"naturalMinor",Dorian:"dorian",Phrygian:"phrygian",Lydian:"lydian",Mixolydian:"mixolydian",Locrian:"locrian",MajorPentatonic:"majPent",MinorPentatonic:"minPent",Blues:"bluesMinor",HarmonicMinor:"harmonicMinor",MelodicMinor:"melodicMinor",DiminishedWH:"dimWholeHalf",DiminishedHW:"dimHalfWhole",Lydianb7:"lydianb7",Mixolydianb6:"mixolydianb6",PhrygianDominant:"phrygDominant",Altered:"altered",WholeTone:"wholeTone"})[e]||"major",d=e=>{s(r=>{let t=new Set(r);return t.has(e)?t.delete(e):t.add(e),t})};return(0,a.jsx)("div",{className:"space-y-2",children:l.map(e=>{let o=(0,P.f6)(e),s=i.has(e),l=T[e],h=l.icon;return(0,a.jsxs)("div",{className:"border rounded-lg",children:[(0,a.jsxs)("button",{className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>d(e),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(l.bgColor),children:(0,a.jsx)(h,{className:"w-5 h-5 ".concat(l.color)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:(0,P.zk)(e,n)}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[o.length," scales"]})]})]}),s?(0,a.jsx)(O,{size:20}):(0,a.jsx)(V,{size:20})]}),s&&(0,a.jsx)("div",{className:"border-t p-2 space-y-1",children:o.map(e=>{c(e.id);let o=r===e.id;return(0,a.jsxs)("div",{className:"relative inline-block",children:[(0,a.jsx)("button",{className:"flex-1 text-left px-3 py-2 rounded-lg text-sm transition-colors flex items-center gap-2 ".concat(o?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100":"hover:bg-gray-100 dark:hover:bg-gray-700"),onClick:r=>{r.stopPropagation(),t(e.id)},children:(0,a.jsx)("span",{children:(0,P.ED)(e,n)})}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1",children:(0,a.jsx)(G.Z,{title:(0,P.ED)(e,n),placement:"bottom",trigger:(0,a.jsx)("button",{type:"button",className:"w-6 h-6 rounded-full bg-amber-50/90 hover:bg-amber-100 ring-1 ring-amber-300/60 shadow-sm flex items-center justify-center","aria-label":"Scale info",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-amber-500",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6A4.997 4.997 0 0 1 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"})})}),children:(0,a.jsx)(q.Z,{scaleId:e.id})})})]},e.id)})})]},e)})})}},9871:function(e,r,t){t.d(r,{s:function(){return a}});let a={en:{nav:{chordProgression:"Chord Progression",findChords:"Find Chords",chordLibrary:"Chord Library",resources:"Resources"},findChords:{title:"Find Chords",selectKeyScale:"Select Key & Scale",key:"Key",scale:"Scale",result:"Result",diatonic:"Diatonic",fretboard:"Fretboard",degrees:"Degrees",names:"Names"},scaleCategory:{basic:"Basic",modes:"Modes",pentatonicBlues:"Pentatonic & Blues",minorFamily:"Minor family",advanced:"Advanced"},actions:{analyze:"Analyze"},chordLibrary:{title:"Chord Library",sub:"",quality:"コードタイプ:",showAdvanced:"Show Advanced",hideAdvanced:"Hide Advanced",display:"Display:",finger:"Finger",roman:"Intervals",note:"Note",tip:"Tip: Forms with \xd7 on 1st or 6th string should not be strummed there, or lightly muted with your fretting hand.",benefits:["Chord forms that inspire composition and arranging","Visual learning: see chord tones/intervals at a glance","Try fast: play/arp with one click"],cards:[{title:"\uD83C\uDFAF How to Use",description:'Simply select a root note and chord type to display various chord forms. Switch between detailed information using "Finger", "Intervals", and "Note Names" buttons.'},{title:"\uD83C\uDFB5 Practical Chord Forms",description:"Carefully selected forms useful for composition and arranging, including open chords, 6/5/4 string roots, and triads (high/mid range). Quickly compare forms that fit your song's flow."},{title:"\uD83D\uDC41️ Visualization & Audio Preview",description:'Shows chord tones and intervals in the top-left. Visualize on the fretboard using "Intervals" and "Note Names" buttons. Preview audio with Play/Arp and save to chord progression slots with right-click.'}],tryNow:"",detailsSummary:"Open details (How to use \xb7 Visuals \xb7 More)",info:{fingerHelp:"1 Index, 2 Middle, 3 Ring, 4 Pinky, T Thumb",romanHelp:"Intervals view (Root=1, Major 3rd=3, Minor 7th=b7, etc.)",noteHelp:"Shows actual note names on the fretboard"},details:{how:{title:"How to Use",bullets:["Select a root and a quality","Use buttons to show Finger / Intervals / Note names"]},forms:{title:"Practical Forms",bullets:["Open, root on 6/5/4 strings, Triad (upper/middle)","Quickly compare forms that fit your song"]},visual:{title:"Visual Learning",bullets:["Chord tones and intervals shown at top-left","Use Intervals/Note Names to visualize on fretboard"]},more:{title:"More",bullets:["Play/Arp to hear voicing; right-click to add to progression slots"]}}},chordBuilder:{proOnlyToast:"Pro only: This chord type can't be added. Get iOS Pro for unlimited + MIDI.",proOnlyToastCta:"Get Pro",eleventhWarning:"11 clashes with the 3rd on maj/dom. Consider #11 or sus4."}},ja:{nav:{chordProgression:"コード進行",findChords:"コードを探す",chordLibrary:"コード辞典",resources:"参考"},findChords:{title:"コードを探す",selectKeyScale:"キーとスケールを選ぶ",key:"キー",scale:"スケール",result:"結果",diatonic:"ダイアトニック",fretboard:"フレットボード",degrees:"度数",names:"音名"},scaleCategory:{basic:"基本",modes:"モード",pentatonicBlues:"ペンタトニック & ブルース",minorFamily:"マイナー系",advanced:"発展系"},actions:{analyze:"分析"},chordLibrary:{title:"Chord Library",sub:"",quality:"コードタイプ:",showAdvanced:"高度なフォームを表示",hideAdvanced:"高度なフォームを隠す",display:"表示:",finger:"指番号",roman:"度数",note:"音名",tip:"ヒント：1弦または6弦に\xd7が付くフォームは、その弦を弾かないか、左手で軽くミュートしてください。",benefits:["作曲やアレンジのヒントになるフォームを紹介","視覚で理解: 構成音/度数を一目で確認","すぐ試せる: ワンクリックで再生・アルペジオ"],cards:[{title:"\uD83C\uDFAF 使い方",description:"ルート音とコードタイプを選択するだけで、様々なコードフォームが表示されます。「指」「度数」「音名」ボタンで詳細情報を切り替えられます。"},{title:"\uD83C\uDFB5 実用的なコードフォーム",description:"オープンコード、6/5/4弦ルート、トライアド（高/中域）など、作曲やアレンジに役立つフォームを厳選。曲の流れに合うフォームを素早く比較できます。"},{title:"\uD83D\uDC41️ 視覚化と音の確認",description:"左上に構成音と度数を表示。「度数」「音名」ボタンでフレット上に可視化できます。Play/Arpで音を確認し、右クリックでコード進行スロットへ保存できます。"}],tryNow:"",detailsSummary:"詳しい説明を開く（使い方・視覚化・その他）",info:{fingerHelp:"①人差し指 ②中指 ③薬指 ④小指 T親指",romanHelp:"度数表示（ルート=1、長3度=3、短7度=b7 など）",noteHelp:"フレットボード上の実際の音名を表示します"},details:{how:{title:"使い方",bullets:["ルート音とコードタイプを選ぶだけ","指/度数/音名はボタンで確認"]},forms:{title:"実用フォーム",bullets:["オープン、6/5/4弦ルート、トライアド（高/中域）を表示","曲の流れに合うフォームを素早く比較できます"]},visual:{title:"視覚的に理解",bullets:["左上に構成音と度数を表示","「度数」「音名」ボタンでフレット上に可視化"]},more:{title:"その他",bullets:["Play/Arpで音を確認、右クリックで進行スロットへ保存"]}}},chordBuilder:{proOnlyToast:"Pro専用：このコードタイプは追加できません。iOS Proで無制限＋MIDI出力。",proOnlyToastCta:"Proを入手",eleventhWarning:"11はmaj/domでは3rdと衝突しがち。#11またはsus4を検討"}}}}}]);
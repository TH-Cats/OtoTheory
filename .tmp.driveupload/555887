(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4976],{5427:function(e){e.exports=function(e){var o,i,a=e.createGain(),u=a._voltage=(o=e.createBufferSource(),(i=e.createBuffer(1,2,e.sampleRate)).getChannelData(0).set(n),o.buffer=i,o.loop=!0,o),s=r(u),c=r(u),l=r(u);return a._startAmount=r(c),a._endAmount=r(l),a._multiplier=r(s),a._multiplier.connect(a),a._startAmount.connect(a),a._endAmount.connect(a),a.value=s.gain,a.startValue=c.gain,a.endValue=l.gain,a.startValue.value=0,a.endValue.value=0,Object.defineProperties(a,t),a};var t={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(e){var t=this._multiplier.gain,n=this._startAmount.gain,r=this._endAmount.gain;this._voltage.start(e),this._decayFrom=this._decayFrom=e+this.attack,this._startedAt=e;var i=this.sustain;t.cancelScheduledValues(e),n.cancelScheduledValues(e),r.cancelScheduledValues(e),r.setValueAtTime(0,e),this.attack?(t.setValueAtTime(0,e),t.linearRampToValueAtTime(1,e+this.attack),n.setValueAtTime(1,e),n.linearRampToValueAtTime(0,e+this.attack)):(t.setValueAtTime(1,e),n.setValueAtTime(0,e)),this.decay&&t.setTargetAtTime(i,this._decayFrom,o(this.decay))}},stop:{value:function(e,t){t&&(e-=this.release);var n=e+this.release;if(this.release){var r=this._multiplier.gain,i=this._startAmount.gain,a=this._endAmount.gain;r.cancelScheduledValues(e),i.cancelScheduledValues(e),a.cancelScheduledValues(e);var u=o(this.release);if(this.attack&&e<this._decayFrom){var s,c,l=(s=this._startedAt,(c=0+(e-s)/(this._decayFrom-s)*1)<=0&&(c=0),c>=1&&(c=1),c);r.linearRampToValueAtTime(l,e),i.linearRampToValueAtTime(1-l,e),i.setTargetAtTime(0,e,u)}a.setTargetAtTime(1,e,u),r.setTargetAtTime(0,e,u)}return this._voltage.stop(n),n}},onended:{get:function(){return this._voltage.onended},set:function(e){this._voltage.onended=e}}},n=new Float32Array([1,1]);function r(e){var t=e.context.createGain();return e.connect(t),t}function o(e){return Math.log(e+1)/Math.log(100)}},3787:function(e){"use strict";e.exports={decode:function(e,t){for(var n,r,o,i=e.replace(/[^A-Za-z0-9\+\/]/g,""),a=i.length,u=t?Math.ceil((3*a+1>>2)/t)*t:3*a+1>>2,s=new Uint8Array(u),c=0,l=0,f=0;f<a;f++)if(o=3&f,c|=((n=i.charCodeAt(f))>64&&n<91?n-65:n>96&&n<123?n-71:n>47&&n<58?n+4:43===n?62:47===n?63:0)<<18-6*o,3===o||a-f==1){for(r=0;r<3&&l<u;r++,l++)s[l]=c>>>(16>>>r&24)&255;c=0}return s}}},3083:function(e){"use strict";e.exports=function(e,t){return new Promise(function(n,r){var o=new XMLHttpRequest;t&&(o.responseType=t),o.open("GET",e),o.onload=function(){200===o.status?n(o.response):r(Error(o.statusText))},o.onerror=function(){r(Error("Network Error"))},o.send()})}},4660:function(e,t,n){"use strict";var r=n(3787),o=n(3083);function i(e){return function(t){return"string"==typeof t&&e.test(t)}}function a(e,t){return"string"==typeof e?e+t:"function"==typeof e?e(t):t}function u(e,t,n,r){var o=t instanceof ArrayBuffer?s:c(t)?l:t&&"function"==typeof t.then?f:d(t)?h:t&&"object"==typeof t?p:m(t)?v:g(t)?y:T(t)?b:null;return o?o(e,t,n||{}):r?Promise.resolve(r):Promise.reject("Source not valid ("+t+")")}function s(e,t,n){return new Promise(function(n,r){e.decodeAudioData(t,function(e){n(e)},function(){r("Can't decode audio data ("+t.slice(0,30)+"...)")})})}u.fetch=o;var c=i(/\.(mp3|wav|ogg)(\?.*)?$/i);function l(e,t,n){var r=a(n.from,t);return u(e,u.fetch(r,"arraybuffer"),n)}function f(e,t,n){return t.then(function(t){return u(e,t,n)})}var d=Array.isArray;function h(e,t,n){return Promise.all(t.map(function(t){return u(e,t,n,t)}))}function p(e,t,n){var r={};return Promise.all(Object.keys(t).map(function(o){if(n.only&&-1===n.only.indexOf(o))return null;var i=t[o];return u(e,i,n,i).then(function(e){r[o]=e})})).then(function(){return r})}var m=i(/\.json(\?.*)?$/i);function v(e,t,n){var r=a(n.from,t);return u(e,u.fetch(r,"text").then(JSON.parse),n)}var g=i(/^data:audio/);function y(e,t,n){var o=t.indexOf(",");return u(e,r.decode(t.slice(o+1)).buffer,n)}var T=i(/\.js(\?.*)?$/i);function b(e,t,n){var r=a(n.from,t);return u(e,u.fetch(r,"text").then(w),n)}function w(e){var t=e.indexOf("MIDI.Soundfont.");if(t<0)throw Error("Invalid MIDI.js Soundfont format");t=e.indexOf("=",t)+2;var n=e.lastIndexOf(",");return JSON.parse(e.slice(t,n)+"}")}e.exports&&(e.exports=u),"undefined"!=typeof window&&(window.loadAudio=u)},5861:function(e){var t;t=function(){return(function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var s=Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){return o(t[a][1][e]||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i=void 0,a=0;a<r.length;a++)o(r[a]);return o})({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return new function(e){if(this._event=e,this._data=e.data,this.receivedTime=e.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=240&e.data[0],this.channel=15&e.data[0],this._messageCode){case 128:this.messageType="noteoff",this.key=127&e.data[1],this.velocity=127&e.data[2];break;case 144:this.messageType="noteon",this.key=127&e.data[1],this.velocity=127&e.data[2];break;case 160:this.messageType="keypressure",this.key=127&e.data[1],this.pressure=127&e.data[2];break;case 176:this.messageType="controlchange",this.controllerNumber=127&e.data[1],this.controllerValue=127&e.data[2],120===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="allsoundoff":121===this.controllerNumber?this.channelModeMessage="resetallcontrollers":122===this.controllerNumber?0===this.controllerValue?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":123===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="allnotesoff":124===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="omnimodeoff":125===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="omnimodeon":126===this.controllerNumber?this.channelModeMessage="monomodeon":127===this.controllerNumber&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=e.data[1];break;case 208:this.messageType="channelpressure",this.pressure=127&e.data[1];break;case 224:this.messageType="pitchbendchange";var t=127&e.data[2],n=127&e.data[1];this.pitchBend=(t<<8)+n}}(e)},t.exports=n.default},{}]},{},[1])(1)},e.exports=t()},6463:function(e,t,n){"use strict";n.r(t);var r=n(1169),o={};for(var i in r)"default"!==i&&(o[i]=(function(e){return r[e]}).bind(0,i));n.d(t,o)},357:function(e,t,n){"use strict";var r,o;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(8081)},8081:function(e){!function(){var t={229:function(e){var t,n,r,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function u(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s=[],c=!1,l=-1;function f(){c&&r&&(c=!1,r.length?s=r.concat(s):l=-1,s.length&&d())}function d(){if(!c){var e=u(f);c=!0;for(var t=s.length;t;){for(r=s,s=[];++l<t;)r&&r[l].run();l=-1,t=s.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||c||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}},a=!0;try{t[e](i,i.exports,r),a=!1}finally{a&&delete n[e]}return i.exports}r.ab="//";var o=r(229);e.exports=o}()},7376:function(e,t,n){"use strict";function r(e,t){return Array(t+1).join(e)}function o(e){return"number"==typeof e}function i(e,t){return Math.pow(2,(e-69)/12)*(t||440)}n.r(t),n.d(t,{acc:function(){return h},alt:function(){return v},build:function(){return function e(t,n,i){return null==t?null:t.step?e(t.step,t.alt,t.oct):t<0||t>6?null:"CDEFGAB".charAt(t)+(o(n)?n<0?r("b",-n):r("#",n):"")+(o(i)?""+i:"")}},chroma:function(){return g},freq:function(){return f},letter:function(){return d},midi:function(){return l},oct:function(){return y},parse:function(){return c},pc:function(){return p},regex:function(){return u},step:function(){return m}});var a=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function u(){return a}var s=[0,2,4,5,7,9,11];function c(e,t,n){if("string"!=typeof e)return null;var r=a.exec(e);if(!r||!t&&r[4])return null;var o={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt="b"===o.acc[0]?-o.acc.length:o.acc.length;var u=s[o.step]+o.alt;return o.chroma=u<0?12+u:u%12,r[3]&&(o.oct=+r[3],o.midi=u+12*(o.oct+1),o.freq=i(o.midi,n)),t&&(o.tonicOf=r[4]),o}function l(e){if((o(e)||"string"==typeof e)&&e>=0&&e<128)return+e;var t=c(e);return t&&void 0!==t.midi?t.midi:null}function f(e,t){var n=l(e);return null===n?null:i(n,t)}function d(e){return(c(e)||{}).letter}function h(e){return(c(e)||{}).acc}function p(e){return(c(e)||{}).pc}function m(e){return(c(e)||{}).step}function v(e){return(c(e)||{}).alt}function g(e){return(c(e)||{}).chroma}function y(e){return(c(e)||{}).oct}},3938:function(e){e.exports=function(e){return e.on=function(t,n){if(1==arguments.length&&"function"==typeof t)return e.on("event",t);var r="on"+t,o=e[r];return e[r]=o?function(e,t,r,i){o(e,t,r,i),n(e,t,r,i)}:n,e},e}},1014:function(e,t,n){"use strict";var r=n(4661),o=n(3938),i=n(8587),a=n(2427),u=n(9165);function s(e,t,n){return u(a(i(o(r(e,t,n)))))}e.exports&&(e.exports=s),"undefined"!=typeof window&&(window.SamplePlayer=s)},9165:function(e,t,n){var r=n(5861);e.exports=function(e){return e.listenToMidi=function(t,n){var o={},i=n||{},a=i.gain||function(e){return e/127};return t.onmidimessage=function(t){var n=t.messageType?t:r(t);if("noteon"===n.messageType&&0===n.velocity&&(n.messageType="noteoff"),!i.channel||n.channel===i.channel)switch(n.messageType){case"noteon":o[n.key]=e.play(n.key,0,{gain:a(n.velocity)});break;case"noteoff":o[n.key]&&(o[n.key].stop(),delete o[n.key])}},e},e}},8587:function(e,t,n){"use strict";var r=n(788),o=function(e){return null!==e&&e!==[]&&e>=0&&e<129?+e:r.midi(e)};e.exports=function(e){if(e.buffers){var t,n=e.opts.map,r="function"==typeof n?n:o,i=function(e){return e?r(e)||e:null};e.buffers=Object.keys(t=e.buffers).reduce(function(e,n){return e[i(n)]=t[n],e},{});var a=e.start;e.start=function(e,t,n){var r=i(e),o=r%1;return o&&(r=Math.floor(r),n=Object.assign(n||{},{cents:Math.floor(100*o)})),a(r,t,n)}}return e}},4661:function(e,t,n){"use strict";var r=n(5427),o={},i={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function a(e){return"number"==typeof e}var u=["attack","decay","sustain","release"];e.exports=function(e,t,n){var s=!1,c=0,l={},f=e.createGain();f.gain.value=1;var d=Object.assign({},i,n),h={context:e,out:f,opts:d};return t instanceof AudioBuffer?h.buffer=t:h.buffers=t,h.start=function(t,n,i){if(h.buffer&&null!==t)return h.start(null,t,n);var p,m,v,g,y=t?h.buffers[t]:h.buffer;if(y){if(!s){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+t+" not found.");return}var T=i||o;n=Math.max(e.currentTime,n||0),h.emit("start",n,t,T);var b=((p=e.createGain()).gain.value=0,p.connect(f),p.env=(m=r(e),v=T.adsr||d.adsr,u.forEach(function(e,t){v?m[e]=v[t]:m[e]=T[e]||d[e]}),m.value.value=a(T.gain)?T.gain:a(d.gain)?d.gain:1,m),p.env.connect(p.gain),p.source=e.createBufferSource(),p.source.buffer=y,p.source.connect(p),p.source.loop=T.loop||d.loop,p.source.playbackRate.value=(g=T.cents||d.cents)?Math.pow(2,g/1200):1,p.source.loopStart=T.loopStart||d.loopStart,p.source.loopEnd=T.loopEnd||d.loopEnd,p.stop=function(n){var r=n||e.currentTime;h.emit("stop",r,t);var o=p.env.stop(r);p.source.stop(o)},p);return b.id=(b.id=c++,l[b.id]=b,b.source.onended=function(){var t=e.currentTime;b.source.disconnect(),b.env.disconnect(),b.disconnect(),h.emit("ended",t,b.id,b)},b.id),b.env.start(n),b.source.start(n),h.emit("started",n,b.id,b),T.duration&&b.stop(n+T.duration),b},h.play=function(e,t,n){return h.start(e,t,n)},h.stop=function(e,t){var n;return(t=t||Object.keys(l)).map(function(t){return(n=l[t])?(n.stop(e),n.id):null})},h.connect=function(e){return s=!0,f.connect(e),h},h.emit=function(e,t,n,r){h.onevent&&h.onevent(e,t,n,r);var o=h["on"+e];o&&o(t,n,r)},h}},2427:function(e){"use strict";var t=Array.isArray,n={};e.exports=function(e){return e.schedule=function(r,o){var i,a,u,s,c=e.context.currentTime,l=r<c?c:r;return e.emit("schedule",l,o),o.map(function(r){var o;return r?(t(r)?(i=r[0],a=r[1]):(i=r.time,a=r),(o=a)&&"object"==typeof o?(u=a.name||a.key||a.note||a.midi||null,s=a):(u=a,s=n),e.start(u,l+(i||0),s)):null})},e}},788:function(e){"use strict";var t=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,n=[0,2,4,5,7,9,11];function r(e,r,i){if("string"!=typeof e)return null;var a=t.exec(e);if(!a||!r&&a[4])return null;var u={letter:a[1].toUpperCase(),acc:a[2].replace(/x/g,"##")};return u.pc=u.letter+u.acc,u.step=(u.letter.charCodeAt(0)+3)%7,u.alt="b"===u.acc[0]?-u.acc.length:u.acc.length,u.chroma=n[u.step]+u.alt,a[3]&&(u.oct=+a[3],u.midi=u.chroma+12*(u.oct+1),u.freq=o(u.midi,i)),r&&(u.tonicOf=a[4]),u}function o(e,t){return Math.pow(2,(e-69)/12)*(t||440)}var i={parse:r,regex:function(){return t},midiToFreq:o};["letter","acc","pc","step","alt","chroma","oct","midi","freq"].forEach(function(e){i[e]=function(t){var n=r(t);return n&&void 0!==n[e]?n[e]:null}}),e.exports=i},9369:function(e,t,n){"use strict";var r=n(4660),o=n(1014);function i(e){return/\.js(\?.*)?$/i.test(e)}function a(e,t,n){return"https://gleitz.github.io/midi-js-soundfonts/"+(t="FluidR3_GM"===t?t:"MusyngKite")+"/"+e+"-"+(n="ogg"===n?n:"mp3")+".js"}var u=n(2985);u.instrument=function e(t,n,u){if(1==arguments.length)return function(n,r){return e(t,n,r)};var s=u||{},c=s.isSoundfontURL||i,l=s.nameToUrl||a,f=c(n)?n:l(n,s.soundfont,s.format);return r(t,f,{only:s.only||s.notes}).then(function(e){var r=o(t,e,s).connect(s.destination?s.destination:t.destination);return r.url=f,r.name=n,r})},u.nameToUrl=a,e.exports&&(e.exports=u),"undefined"!=typeof window&&(window.Soundfont=u)},2985:function(e,t,n){"use strict";var r=n(7376);function o(e,t){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof o))return new o(e);this.nameToUrl=t||o.nameToUrl,this.ctx=e,this.instruments={},this.promises=[]}o.prototype.onready=function(e){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(e)},o.prototype.instrument=function(e,t){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var n,i=this.ctx;if((e=e||"default")in this.instruments)return this.instruments[e];var a={name:e,play:(n=(n=t)||{},function(e,t,o,a){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var u=e>0&&e<129?+e:r.midi(e),s=u?r.midiToFreq(u,440):null;if(s){o=o||.2;var c=(a=a||{}).destination||n.destination||i.destination,l=a.vcoType||n.vcoType||"sine",f=a.gain||n.gain||.4,d=i.createOscillator();d.type=l,d.frequency.value=s;var h=i.createGain();return h.gain.value=f,d.connect(h),h.connect(c),d.start(t),o>0&&d.stop(t+o),d}})};if(this.instruments[e]=a,"default"!==e){var u=o.instrument(i,e,t).then(function(e){return a.play=e.play,a});this.promises.push(u),a.onready=function(e){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),u.then(e)}}else a.onready=function(e){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),e()};return a},o.loadBuffers=function(e,t,n){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),o.instrument(e,t,n).then(function(e){return e.buffers})},o.noteToMidi=r.midi,e.exports=o}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{4353:function(e,t,n){Promise.resolve().then(n.t.bind(n,4080,23)),Promise.resolve().then(n.t.bind(n,1666,23)),Promise.resolve().then(n.t.bind(n,3733,23)),Promise.resolve().then(n.bind(n,2276)),Promise.resolve().then(n.t.bind(n,3054,23)),Promise.resolve().then(n.bind(n,9633)),Promise.resolve().then(n.bind(n,1682)),Promise.resolve().then(n.bind(n,879)),Promise.resolve().then(n.bind(n,870)),Promise.resolve().then(n.bind(n,3596)),Promise.resolve().then(n.bind(n,4907)),Promise.resolve().then(n.bind(n,8334)),Promise.resolve().then(n.bind(n,8625))},2276:function(e,t,n){"use strict";n.d(t,{default:function(){return o}});var r=n(2265),a=n(7152),i=n(5618);function o(){let[e,t]=(0,r.useState)(!1),n=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{if(e)return;let r=async()=>{var e,r;if(n.current){n.current=!1;try{(0,a.j)("audio_unlock_try",{}),await (null===(e=i.h.resume)||void 0===e?void 0:e.call(i.h)),t(!0),(0,a.j)("audio_unlock_ok",{})}catch(e){n.current=!0,(0,a.j)("audio_unlock_err",{message:null!==(r=null==e?void 0:e.message)&&void 0!==r?r:"unknown"})}}},o={once:!0,capture:!0},s=window;s.addEventListener("pointerdown",r,o),s.addEventListener("keydown",r,o),s.addEventListener("touchstart",r,o);let l=()=>{"visible"!==document.visibilityState||e||(n.current=!0)};return document.addEventListener("visibilitychange",l),()=>{s.removeEventListener("pointerdown",r,o),s.removeEventListener("keydown",r,o),s.removeEventListener("touchstart",r,o),document.removeEventListener("visibilitychange",l)}},[e]),null}},9633:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var r=n(7437),a=n(7138),i=n(3774),o=n(8041);function s(){let e=(0,o.p)();return(0,r.jsxs)("div",{className:"mb-6 flex flex-col items-center gap-3",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-black/80 dark:text-white/80",children:e.footer.title}),(0,r.jsxs)(a.default,{href:"/ios-coming-soon",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium bg-gradient-to-r from-purple-600 to-blue-600 hover:opacity-90 text-white rounded-lg transition-opacity relative",children:[(0,r.jsx)(i.Z,{}),(0,r.jsx)("span",{children:e.footer.button}),(0,r.jsx)("span",{className:"ml-1 px-2 py-0.5 text-xs font-bold bg-yellow-400 text-black rounded",children:"Coming Soon"})]}),(0,r.jsx)("div",{className:"text-xs opacity-60",children:e.footer.features})]})}},1682:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var r=n(7437),a=n(2265),i=n(7138),o=n(6463),s=n(8625);function l(){let e=(0,o.usePathname)()||"/",{isJapanese:t}=(0,s.b)(),n=e.startsWith("/ja")?"/ja":"",l=[{href:"".concat(n,"/about"),label:"About"},{href:"".concat(n,"/privacy"),label:"Privacy"},{href:"".concat(n,"/terms"),label:"Terms"},{href:"".concat(n,"/faq"),label:"FAQ"},{href:"".concat(n,"/support"),label:"Support"}];return(0,r.jsx)("nav",{className:"flex items-center justify-center gap-3 flex-wrap",children:l.map((e,t)=>(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(i.default,{href:e.href,className:"hover:underline",children:e.label}),t<l.length-1?(0,r.jsx)("span",{children:"•"}):null]},e.href))})}},879:function(e,t,n){"use strict";n.d(t,{default:function(){return o}});var r=n(7437),a=n(1877),i=n(357);function o(){let e=i.env.NEXT_PUBLIC_GA_ID;return e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.default,{strategy:"afterInteractive",src:"https://www.googletagmanager.com/gtag/js?id=".concat(e)}),(0,r.jsx)(a.default,{id:"google-analytics",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n            gtag('config', '".concat(e,"', {\n              page_path: window.location.pathname,\n            });\n          ")}})]}):null}},870:function(e,t,n){"use strict";n.d(t,{GoogleTagManagerBody:function(){return s},GoogleTagManagerHead:function(){return o}});var r=n(7437),a=n(1877),i=n(357);function o(){let e=i.env.NEXT_PUBLIC_GTM_ID;return e?(0,r.jsx)(a.default,{id:"gtm-script",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n})(window,document,'script','dataLayer','".concat(e,"');\n        ")}}):null}function s(){let e=i.env.NEXT_PUBLIC_GTM_ID;return e?(0,r.jsx)("noscript",{children:(0,r.jsx)("iframe",{src:"https://www.googletagmanager.com/ns.html?id=".concat(e),height:"0",width:"0",style:{display:"none",visibility:"hidden"}})}):null}},3596:function(e,t,n){"use strict";n.d(t,{default:function(){return y}});var r=n(7437),a=n(7138),i=n(6648),o=n(6463),s=n(9871),l=n(8625);function c(){let e=(0,o.usePathname)(),{isJapanese:t}=(0,l.b)(),n=e.startsWith("/ja")?"/ja":"",i=s.s[t?"ja":"en"],c=[{href:"".concat(n,"/chord-progression"),label:i.nav.chordProgression,aria:"Build Chord Progressions"},{href:"".concat(n,"/find-chords"),label:i.nav.findChords,aria:"Find Chord"},{href:"".concat(n,"/chord-library"),label:i.nav.chordLibrary,aria:"Chord Library"},{href:"".concat(n,"/resources"),label:i.nav.resources,aria:"Resources"}],d=t=>null==e?void 0:e.startsWith(t);return(0,r.jsx)("nav",{className:"hidden sm:flex text-sm ml-6 sm:ml-14 md:ml-20 gap-5 sm:gap-10",children:c.map(e=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(a.default,{prefetch:!0,href:e.href,"aria-label":e.aria,className:"hover:underline whitespace-pre md:whitespace-nowrap",children:e.href==="".concat(n,"/chord-progression")?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:"block leading-none md:inline",children:[t?"コード":"Chord"," "]}),(0,r.jsx)("span",{className:"block leading-tight md:inline",children:t?"進行":"Progression"})]}):e.href==="".concat(n,"/find-chords")?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"block leading-none md:inline",children:t?"コードを":"Find "}),(0,r.jsx)("span",{className:"block leading-tight md:inline",children:t?"探す":"Chords"})]}):e.href==="".concat(n,"/chord-library")?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"block leading-none md:inline",children:t?"コード":"Chord "}),(0,r.jsx)("span",{className:"block leading-tight md:inline",children:t?"辞典":"Library"})]}):e.label}),d(e.href)?(0,r.jsx)("span",{className:"absolute left-1/2 -translate-x-1/2 -bottom-2 w-1.5 h-1.5 rounded-full bg-[var(--brand-primary)]"}):null]},e.href))})}var d=n(2265),u=n(4573),h=n(4589);function m(){let[e,t]=(0,d.useState)(!1),n=(0,o.usePathname)(),{isJapanese:i}=(0,l.b)(),c=n.startsWith("/ja")?"/ja":"",m=s.s[i?"ja":"en"],f=[{href:"".concat(c,"/chord-progression"),label:m.nav.chordProgression,aria:"Build Chord Progressions"},{href:"".concat(c,"/find-chords"),label:m.nav.findChords,aria:"Find Chord"},{href:"".concat(c,"/chord-library"),label:m.nav.chordLibrary,aria:"Chord Library"},{href:"".concat(c,"/resources"),label:m.nav.resources,aria:"Resources"}],g=e=>null==n?void 0:n.startsWith(e);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>t(!e),className:"sm:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100","aria-label":"Toggle navigation menu",children:e?(0,r.jsx)(u.Z,{className:"h-6 w-6"}):(0,r.jsx)(h.Z,{className:"h-6 w-6"})}),e&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 sm:hidden",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>t(!1)}),(0,r.jsxs)("div",{className:"fixed top-0 right-0 h-full w-64 bg-white dark:bg-gray-900 shadow-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Menu"}),(0,r.jsx)("button",{onClick:()=>t(!1),className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100","aria-label":"Close navigation menu",children:(0,r.jsx)(u.Z,{className:"h-6 w-6"})})]}),(0,r.jsx)("nav",{className:"p-4 space-y-4",children:f.map(e=>(0,r.jsx)(a.default,{href:e.href,onClick:()=>t(!1),className:"block px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(g(e.href)?"bg-[var(--brand-primary)] text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),"aria-label":e.aria,children:e.label},e.href))})]})]})]})}var f=n(3774),g=n(8041);function p(){let e=(0,g.p)();return(0,r.jsxs)(a.default,{href:"/ios-coming-soon",className:"hidden sm:flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-gradient-to-r from-purple-600 to-blue-600 hover:opacity-90 text-white rounded-md transition-opacity relative",children:[(0,r.jsx)(f.Z,{className:"w-3.5 h-3.5"}),(0,r.jsx)("span",{children:e.header}),(0,r.jsx)("span",{className:"ml-1 px-1.5 py-0.5 text-[10px] font-bold bg-yellow-400 text-black rounded",children:"Soon"})]})}function v(){let e=(0,o.usePathname)()||"/",{isJapanese:t}=(0,l.b)(),n=t?e.replace(/^\/ja(\/|$)/,"/"):"/ja".concat("/"===e?"":e);return(0,r.jsx)(a.default,{href:n,"aria-label":t?"Switch to English":"日本語に切り替え",className:"inline-flex items-center justify-center px-2 py-1 text-xs rounded border border-black/10 dark:border-white/10 hover:bg-black/5 dark:hover:bg-white/5",children:t?"EN":"JA"})}function y(){let{isJapanese:e}=(0,l.b)();return(0,r.jsx)("header",{className:"border-b border-black/10 dark:border-white/10",children:(0,r.jsxs)("div",{className:"container flex items-center justify-between h-16 sm:h-20 md:h-24",children:[(0,r.jsxs)(a.default,{href:e?"/ja":"/",className:"flex items-center gap-2 flex-shrink-0",children:[(0,r.jsx)(i.default,{src:"/logo/logo-horizontal-light.png",alt:"OtoTheory",width:280,height:84,className:"h-12 sm:h-16 md:h-20 w-auto dark:hidden max-w-[200px] sm:max-w-[240px] md:max-w-none",priority:!0}),(0,r.jsx)(i.default,{src:"/logo/logo-horizontal.png",alt:"OtoTheory",width:280,height:84,className:"h-12 sm:h-16 md:h-20 w-auto hidden dark:block max-w-[200px] sm:max-w-[240px] md:max-w-none",priority:!0})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,r.jsx)(c,{}),(0,r.jsx)(m,{}),(0,r.jsx)(p,{}),(0,r.jsx)(v,{})]})]})})}},4907:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var r=n(7437),a=n(2265),i=n(1792),o=n(8041);let s="ot-mobile-cta-dismissed";function l(){let e=(0,o.p)(),[t,n]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),{trackClick:h}=(0,i.Z)();(0,a.useEffect)(()=>{let e="1"===sessionStorage.getItem(s);if(c(e),e)return;let t=setTimeout(()=>n(!0),3e3),r=()=>{window.scrollY>200&&u(!0)};return window.addEventListener("scroll",r),()=>{clearTimeout(t),window.removeEventListener("scroll",r)}},[]);let m=(0,a.useCallback)(()=>{n(!1),c(!0),sessionStorage.setItem(s,"1")},[]),f=(0,a.useCallback)(()=>{h("sticky")},[h]);return!l&&(t||d)?(0,r.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 sm:hidden bg-gradient-to-t from-black/95 to-black/80 backdrop-blur-sm border-t border-white/20 animate-slide-up",children:(0,r.jsxs)("div",{className:"container py-3 px-4 flex items-center justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"text-xs font-medium text-white/90",children:e.sticky.title}),(0,r.jsx)("div",{className:"text-xs text-white/60 truncate",children:e.sticky.subtitle})]}),(0,r.jsxs)("a",{href:"/ios-coming-soon",className:"flex-shrink-0 px-3 py-2 text-xs font-medium bg-gradient-to-r from-purple-600 to-blue-600 hover:opacity-90 text-white rounded-lg transition-opacity relative",onClick:f,children:[(0,r.jsx)("span",{className:"block",children:e.sticky.button}),(0,r.jsx)("span",{className:"block text-[10px] font-bold text-yellow-400",children:"Soon"})]}),(0,r.jsx)("button",{onClick:m,className:"flex-shrink-0 w-6 h-6 flex items-center justify-center text-white/60 hover:text-white/90 transition-colors","aria-label":"Dismiss",children:"✕"})]})}):null}},8334:function(e,t,n){"use strict";n.d(t,{ProProvider:function(){return o},Z:function(){return s}});var r=n(7437),a=n(2265);let i=(0,a.createContext)(null),o=e=>{let{children:t,initialIsPro:n=!1}=e,[o,s]=(0,a.useState)(n);(0,a.useEffect)(()=>{try{let e="1"===window.localStorage.getItem("isPro");e!==o&&s(e)}catch(e){}},[o]);let l=()=>{try{window.localStorage.setItem("isPro","1"),document.cookie="isPro=1; path=/; max-age=31536000"}catch(e){}s(!0)},c=()=>{try{window.localStorage.setItem("isPro","0"),document.cookie="isPro=0; path=/; max-age=31536000"}catch(e){}s(!1)},d=(0,a.useMemo)(()=>({isPro:o,upgrade:l,downgrade:c}),[o]);return(0,r.jsx)(i.Provider,{value:d,children:t})},s=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("usePro must be used inside ProProvider");return e}},3774:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7437);function a(e){let{className:t="w-4 h-4",size:n}=e;return(0,r.jsx)("svg",{className:t,style:n?{width:n,height:n}:void 0,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M7 2C5.9 2 5 2.9 5 4v16c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H7zm0 2h10v12H7V4zm0 14h10v2H7v-2zm1-1h8v1H8v-1z"})})}},8625:function(e,t,n){"use strict";n.d(t,{LocaleProvider:function(){return o},b:function(){return s}});var r=n(7437),a=n(2265);let i=(0,a.createContext)(null);function o(e){let{children:t,initialLocale:n}=e,[o]=(0,a.useState)(n),s="ja"===o,l=(0,a.useMemo)(()=>({locale:o,isJapanese:s}),[o,s]);return(0,r.jsx)(i.Provider,{value:l,children:t})}function s(){let e=(0,a.useContext)(i);if(!e)throw Error("useLocale must be used within LocaleProvider");return e}},8041:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(6463);let a={header:"Get iOS App",sticky:{title:"Get Pro features on iOS",subtitle:"MIDI • Sections • Unlimited",button:"Get App"},footer:{title:"Get the full experience on iOS",button:"Download on App Store",features:"• Pro features: MIDI export, Section editing, Unlimited sketches"},toast:{limitWarn:"8+ chords recommended for better accuracy. Want unlimited? Get iOS Pro!",limitBlock:"12 chord limit reached (Web Lite). Upgrade to iOS Pro for unlimited!",sketchLimit:"3 sketch limit reached! Delete a sketch or upgrade to iOS Pro for unlimited sketches.",pngExport:"PNG exported! Want MIDI export? Get iOS Pro for full DAW integration!",ctaButton:"Get Pro"}},i={header:"iOS版を入手",sticky:{title:"iOSでPro機能を使う",subtitle:"MIDI・セクション編集・無制限保存",button:"アプリを入手"},footer:{title:"iOSで全機能を体験",button:"App Storeで入手",features:"• Pro機能：MIDI書き出し・セクション編集・無制限保存"},toast:{limitWarn:"精度向上のため8コード以上を推奨。無制限はiOS Proへ",limitBlock:"（Web Lite）12コードの上限に達しました。iOS Proなら無制限です。",sketchLimit:"スケッチは3件までです。削除するか、iOS Proで無制限に。",pngExport:"PNGを書き出しました。MIDI書き出しはiOS Proで—DAWと完全連携。",ctaButton:"Pro版へ"}};function o(){return((0,r.usePathname)()||"/").startsWith("/ja")?i:a}},1792:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2265),a=n(7152);function i(){return{trackClick:(0,r.useCallback)((e,t)=>{(0,a.Ie)(e,{page:window.location.pathname,...t})},[])}}},5618:function(e,t,n){"use strict";n.d(t,{h:function(){return h}});var r=n(7152);let a=[];function i(e){try{e.source.onended=null}catch(e){}try{e.source.disconnect()}catch(e){}try{e.gain.disconnect()}catch(e){}}function o(e,t,n,r,o){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;!function(e){if(a.length<6)return;a.sort((e,t)=>e.stopAt-t.stopAt);let t=a.shift();if(t){try{t.source.stop(e)}catch(e){}i(t)}}(r),!function(e,t,n,r,o,s){var l;let c=r+Math.max(.12+.02,o+.02),d=e.createBufferSource(),u=e.createBuffer(1,Math.max(1,Math.floor(.01*e.sampleRate)),e.sampleRate),h=u.getChannelData(0);for(let e=0;e<h.length;e++)h[e]=2*Math.random()-1;d.buffer=u,d.start(r),d.stop(r+.01);let m=e.createDelay();m.delayTime.setValueAtTime(Math.max(1/880,Math.min(1/55,1/Math.max(1,n))),r);let f=e.createGain();f.gain.setValueAtTime(.82,r);let g=e.createBiquadFilter();g.type="lowpass",g.frequency.setValueAtTime(Math.min(6e3,Math.max(1200,6*n)),r),g.Q.setValueAtTime(.5,r);let p=e.createGain(),v=r+.005,y=r+Math.max(.12,o),b=Math.max(v,y-.12);p.gain.setValueAtTime(0,r),p.gain.linearRampToValueAtTime(Math.max(1e-4,s),v),p.gain.setValueAtTime(Math.max(1e-4,s),b),p.gain.linearRampToValueAtTime(1e-4,y),d.connect(g),g.connect(m),m.connect(f).connect(g),m.connect(p).connect(t);let x=e.createOscillator();try{x.connect(e.destination)}catch(e){}x.start(r),x.stop(c),l={source:x,gain:p,stopAt:y},a.push(l),l.source.onended=()=>{let e=a.indexOf(l);e>=0&&a.splice(e,1),i(l)}}(e,t,440*Math.pow(2,(n-69)/12),r,o,s)}function s(e,t,n,r){let a=e.currentTime;o(e,t,n,a,r,.7)}function l(e,t,n,r,a){let i=e.currentTime,s=Math.max(.22,Math.min(.42,.95/Math.sqrt(Math.max(1,Math.min(n.length,6)))));n.forEach((n,l)=>{o(e,t,n,i+Math.max(0,a)*l,r,s)})}var c=n(9369),d=n.n(c),u=n(357);let h=(()=>{let e=null,t=null,n=null,a=new Set(["acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_clean","electric_guitar_jazz","electric_guitar_muted","overdriven_guitar","distortion_guitar","acoustic_grand_piano"]),i=(()=>{try{let e="undefined"!=typeof localStorage?localStorage.getItem("ot-instrument"):null;return e&&a.has(e)?e:"acoustic_guitar_steel"}catch(e){return"acoustic_guitar_steel"}})(),o="undefined"!=typeof localStorage?localStorage.getItem("ot-audio-enabled"):null,c="undefined"!=typeof localStorage?localStorage.getItem("ot-audio-volume"):null,h={enabled:null===o||"true"===o,volume:c?Number(c):.8},m=new Set;function f(){m.forEach(e=>e(h))}function g(){return e||((t=(e=new(window.AudioContext||window.webkitAudioContext)).createGain()).gain.value=h.enabled?h.volume:0,t.connect(e.destination)),e}function p(){e&&t&&(t.gain.cancelScheduledValues(e.currentTime),t.gain.setValueAtTime(t.gain.value,e.currentTime),t.gain.linearRampToValueAtTime(h.enabled?h.volume:0,e.currentTime+.02))}async function v(){let t=g();if("suspended"===t.state&&await t.resume(),!n)try{n=await d().instrument(t,i)}catch(e){}if("true"===u.env.NEXT_PUBLIC_AUDIO_UNLOCK_PING&&e){let t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,e.currentTime),t.connect(n).connect(e.destination),t.start(),t.stop(e.currentTime+.01),t.onended=()=>{try{t.disconnect(),n.disconnect()}catch(e){}}}}return{resume:v,toggleEnabled:async function(e){g(),h.enabled="boolean"==typeof e?e:!h.enabled;try{localStorage.setItem("ot-audio-enabled",String(h.enabled))}catch(e){}p(),f(),(0,r.j)("fb_toggle",{page:"analyze",control:"audio",value:h.enabled})},setVolume:function(e){g(),h.volume=Math.max(0,Math.min(1,e));try{localStorage.setItem("ot-audio-volume",String(h.volume))}catch(e){}p(),f()},getState:()=>({...h}),subscribe:e=>(m.add(e),()=>m.delete(e)),playNote:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:320,i=g();if(v(),!h.enabled)return;let o=Math.max(.12,a/1e3);if(n)try{n.play(e,0,{duration:o})}catch(n){s(i,t,e,o)}else s(i,t,e,o);(0,r.j)("play_note",{page:"analyze",value:e})},playChord:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hit",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:420,o=g();if(v(),!h.enabled)return;let s="lightStrum"===a?.02:0,c=Math.max(.18,i/1e3);if(n)try{e.slice(0,6).forEach((e,t)=>{n.play(e,t*s,{duration:c})})}catch(n){l(o,t,e,c,s)}else l(o,t,e,c,s);(0,r.j)("play_chord",{page:"analyze",value:e.slice(0,6).join(",")})},setInstrument:async function(t){if(g(),a.has(t)){i=t;try{localStorage.setItem("ot-instrument",t)}catch(e){}try{n=await d().instrument(e,i)}catch(e){n=null}(0,r.j)("instrument_change",{page:"analyze",instrument:t}),f()}},getInstrument:()=>i}})()},9871:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});let r={en:{nav:{chordProgression:"Chord Progression",findChords:"Find Chords",chordLibrary:"Chord Library",resources:"Resources"},findChords:{title:"Find Chords",selectKeyScale:"Select Key & Scale",key:"Key",scale:"Scale",result:"Result",diatonic:"Diatonic",fretboard:"Fretboard",degrees:"Degrees",names:"Names"},scaleCategory:{basic:"Basic",modes:"Modes",pentatonicBlues:"Pentatonic & Blues",minorFamily:"Minor family",advanced:"Advanced"},actions:{analyze:"Analyze"},chordLibrary:{title:"Chord Library",sub:"",quality:"コードタイプ:",showAdvanced:"Show Advanced",hideAdvanced:"Hide Advanced",display:"Display:",finger:"Finger",roman:"Intervals",note:"Note",tip:"Tip: Forms with \xd7 on 1st or 6th string should not be strummed there, or lightly muted with your fretting hand.",benefits:["Chord forms that inspire composition and arranging","Visual learning: see chord tones/intervals at a glance","Try fast: play/arp with one click"],cards:[{title:"\uD83C\uDFAF How to Use",description:'Simply select a root note and chord type to display various chord forms. Switch between detailed information using "Finger", "Intervals", and "Note Names" buttons.'},{title:"\uD83C\uDFB5 Practical Chord Forms",description:"Carefully selected forms useful for composition and arranging, including open chords, 6/5/4 string roots, and triads (high/mid range). Quickly compare forms that fit your song's flow."},{title:"\uD83D\uDC41️ Visualization & Audio Preview",description:'Shows chord tones and intervals in the top-left. Visualize on the fretboard using "Intervals" and "Note Names" buttons. Preview audio with Play/Arp and save to chord progression slots with right-click.'}],tryNow:"",detailsSummary:"Open details (How to use \xb7 Visuals \xb7 More)",info:{fingerHelp:"1 Index, 2 Middle, 3 Ring, 4 Pinky, T Thumb",romanHelp:"Intervals view (Root=1, Major 3rd=3, Minor 7th=b7, etc.)",noteHelp:"Shows actual note names on the fretboard"},details:{how:{title:"How to Use",bullets:["Select a root and a quality","Use buttons to show Finger / Intervals / Note names"]},forms:{title:"Practical Forms",bullets:["Open, root on 6/5/4 strings, Triad (upper/middle)","Quickly compare forms that fit your song"]},visual:{title:"Visual Learning",bullets:["Chord tones and intervals shown at top-left","Use Intervals/Note Names to visualize on fretboard"]},more:{title:"More",bullets:["Play/Arp to hear voicing; right-click to add to progression slots"]}}},chordBuilder:{proOnlyToast:"Pro only: This chord type can't be added. Get iOS Pro for unlimited + MIDI.",proOnlyToastCta:"Get Pro",eleventhWarning:"11 clashes with the 3rd on maj/dom. Consider #11 or sus4."}},ja:{nav:{chordProgression:"コード進行",findChords:"コードを探す",chordLibrary:"コード辞典",resources:"参考"},findChords:{title:"コードを探す",selectKeyScale:"キーとスケールを選ぶ",key:"キー",scale:"スケール",result:"結果",diatonic:"ダイアトニック",fretboard:"フレットボード",degrees:"度数",names:"音名"},scaleCategory:{basic:"基本",modes:"モード",pentatonicBlues:"ペンタトニック & ブルース",minorFamily:"マイナー系",advanced:"発展系"},actions:{analyze:"分析"},chordLibrary:{title:"Chord Library",sub:"",quality:"コードタイプ:",showAdvanced:"高度なフォームを表示",hideAdvanced:"高度なフォームを隠す",display:"表示:",finger:"指番号",roman:"度数",note:"音名",tip:"ヒント：1弦または6弦に\xd7が付くフォームは、その弦を弾かないか、左手で軽くミュートしてください。",benefits:["作曲やアレンジのヒントになるフォームを紹介","視覚で理解: 構成音/度数を一目で確認","すぐ試せる: ワンクリックで再生・アルペジオ"],cards:[{title:"\uD83C\uDFAF 使い方",description:"ルート音とコードタイプを選択するだけで、様々なコードフォームが表示されます。「指」「度数」「音名」ボタンで詳細情報を切り替えられます。"},{title:"\uD83C\uDFB5 実用的なコードフォーム",description:"オープンコード、6/5/4弦ルート、トライアド（高/中域）など、作曲やアレンジに役立つフォームを厳選。曲の流れに合うフォームを素早く比較できます。"},{title:"\uD83D\uDC41️ 視覚化と音の確認",description:"左上に構成音と度数を表示。「度数」「音名」ボタンでフレット上に可視化できます。Play/Arpで音を確認し、右クリックでコード進行スロットへ保存できます。"}],tryNow:"",detailsSummary:"詳しい説明を開く（使い方・視覚化・その他）",info:{fingerHelp:"①人差し指 ②中指 ③薬指 ④小指 T親指",romanHelp:"度数表示（ルート=1、長3度=3、短7度=b7 など）",noteHelp:"フレットボード上の実際の音名を表示します"},details:{how:{title:"使い方",bullets:["ルート音とコードタイプを選ぶだけ","指/度数/音名はボタンで確認"]},forms:{title:"実用フォーム",bullets:["オープン、6/5/4弦ルート、トライアド（高/中域）を表示","曲の流れに合うフォームを素早く比較できます"]},visual:{title:"視覚的に理解",bullets:["左上に構成音と度数を表示","「度数」「音名」ボタンでフレット上に可視化"]},more:{title:"その他",bullets:["Play/Arpで音を確認、右クリックで進行スロットへ保存"]}}},chordBuilder:{proOnlyToast:"Pro専用：このコードタイプは追加できません。iOS Proで無制限＋MIDI出力。",proOnlyToastCta:"Proを入手",eleventhWarning:"11はmaj/domでは3rdと衝突しがち。#11またはsus4を検討"}}}},7152:function(e,t,n){"use strict";n.d(t,{EP:function(){return s},Ie:function(){return c},j:function(){return o},pc:function(){return l}});let r=new Set,a={progression:"chord_progression","find-key":"chord_progression","find-key-scale":"chord_progression","find-chord":"find_chords",analyze:"melody_solo_analyze"},i=e=>a[e]||e;function o(e){var t,n,a,o,s,l,c,d,u,h,m;let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g={ev:e,page:i(f.page||"analyze"),keyPc:null!==(l=null===(t=window.__OT_STATE__)||void 0===t?void 0:t.keyPc)&&void 0!==l?l:void 0,scaleId:null!==(c=null===(n=window.__OT_STATE__)||void 0===n?void 0:n.scaleId)&&void 0!==c?c:void 0,page_language:(null===(s=window.location)||void 0===s?void 0:null===(o=s.pathname)||void 0===o?void 0:null===(a=o.startsWith)||void 0===a?void 0:a.call(o,"/ja"))?"ja":"en",ts:Date.now(),...f},p="".concat(e,":").concat(performance.now().toFixed(0));if(!r.has(p)){r.add(p),setTimeout(()=>r.delete(p),0);try{if("undefined"!=typeof navigator&&"sendBeacon"in navigator){let e=new Blob([JSON.stringify(g)],{type:"application/json"});null===(d=(u=navigator).sendBeacon)||void 0===d||d.call(u,"/api/telemetry",e)}else"undefined"!=typeof fetch&&fetch("/api/telemetry",{method:"POST",body:JSON.stringify(g),headers:{"content-type":"application/json"},keepalive:!0}).catch(()=>{})}catch(e){}try{"undefined"!=typeof localStorage&&"1"===localStorage.getItem("ot-debug-telemetry")?console.log("[ototelem]",g):null===(h=(m=console).debug)||void 0===h||h.call(m,"[ototelem]",g)}catch(e){}}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o("toast_shown",{kind:e,...t})}function l(e){o("overlay_shown",e)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o("cta_appstore_click",{place:e,...t})}},3054:function(){}},function(e){e.O(0,[5773,231,5223,4976,2418,2971,7023,1744],function(){return e(e.s=4353)}),_N_E=e.O()}]);
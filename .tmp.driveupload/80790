{"version":3,"sources":["turbopack:///[project]/src/components/AdSlot.client.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { track } from \"@/lib/telemetry\";\nimport { usePro } from \"@/components/ProProvider\";\n\ninterface AdSlotProps {\n  page: string;\n  slot?: string; // AdSense広告スロットID（オプション）\n  format?: \"auto\" | \"rectangle\" | \"horizontal\" | \"vertical\";\n  style?: React.CSSProperties;\n}\n\nexport default function AdSlot({ \n  page, \n  slot = \"XXXXXXXXXX\", // デフォルトの広告スロットID\n  format = \"auto\",\n  style = {}\n}: AdSlotProps) {\n  const { isPro } = usePro();\n  const [mounted, setMounted] = useState(false);\n  const [adLoaded, setAdLoaded] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useEffect(() => {\n    if (!mounted || isPro) return;\n\n    // AdSenseの広告をロード\n    try {\n      // @ts-ignore\n      if (window.adsbygoogle && !adLoaded) {\n        // @ts-ignore\n        (window.adsbygoogle = window.adsbygoogle || []).push({});\n        setAdLoaded(true);\n        track(\"ad_shown\", { page });\n      }\n    } catch (error) {\n      console.error(\"AdSense load error:\", error);\n    }\n  }, [mounted, isPro, page, adLoaded]);\n\n  if (isPro) {\n    return null;\n  }\n\n  return (\n    <div \n      style={{ minHeight: 110, ...style }} \n      aria-label=\"Advertisement\"\n      className=\"ad-container\"\n    >\n      {mounted ? (\n        <ins\n          className=\"adsbygoogle\"\n          style={{ display: \"block\", ...style }}\n          data-ad-client=\"ca-pub-9662479821167655\"\n          data-ad-slot={slot}\n          data-ad-format={format}\n          data-full-width-responsive=\"true\"\n        />\n      ) : null}\n    </div>\n  );\n}\n"],"names":[],"mappings":"+EAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OASe,SAAS,EAAO,CAC7B,MAAI,MACJ,EAAO,YAAY,QACnB,EAAS,MAAM,OACf,EAAQ,CAAC,CAAC,CACE,EACZ,GAAM,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,MAAA,AAAM,IAClB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,SAuBzC,CArBA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAW,EACb,EAAG,EAAE,EAEL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAK,AAAD,IAAY,EAGhB,GAAI,CAEE,CALiB,MAKV,WAAW,EAAI,CAAC,IAEzB,CAAC,KAFkC,EAE3B,WAAW,CAAG,OAAO,WAAW,EAAI,EAAA,AAAE,EAAE,IAAI,CAAC,CAAC,GACtD,GAAY,GACZ,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,WAAY,MAAE,CAAK,GAE7B,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,sBAAuB,EACvC,CACF,EAAG,CAAC,EAAS,EAAO,EAAM,EAAS,EAE/B,GACK,IADE,CAKT,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,MAAO,CAAE,UAAW,IAAK,GAAG,CAAK,AAAC,EAClC,aAAW,gBACX,UAAU,wBAET,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,cACV,MAAO,CAAE,QAAS,QAAS,GAAG,CAAK,AAAC,EACpC,iBAAe,0BACf,eAAc,EACd,iBAAgB,EAChB,6BAA2B,SAE3B,MAGV"}
"use strict";var OtoCore=(()=>{var s=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var g=Object.prototype.hasOwnProperty;var b=(n,r)=>{for(var o in r)s(n,o,{get:r[o],enumerable:!0})},y=(n,r,o,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let e of C(r))!g.call(n,e)&&e!==o&&s(n,e,{get:()=>r[e],enumerable:!(t=h(r,e))||t.enumerable});return n};var S=n=>y(s({},"__esModule",{value:!0}),n);var M={};b(M,{DEFAULT_CONTEXT:()=>_,DEFAULT_MIDI_OCTAVE:()=>T,PC_NAMES:()=>a,PITCH_CLASS_COUNT:()=>A,getDiatonicChords:()=>w,interval:()=>j,mod12:()=>c,nameToPc:()=>E,normalizeChordSymbol:()=>v,parseChord:()=>N,pcToName:()=>D,transpose:()=>I});var a=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],A=12,T=60;function c(n){return(n%12+12)%12}function D(n){return a[c(n)]}function E(n){let r=a.indexOf(n);return r>=0?r:-1}function I(n,r){return c(n+r)}function j(n,r){return c(r-n)}function v(n){return n.replace(/maj7/i,"maj7").replace(/min7/i,"m7").replace(/min/i,"m").replace(/dim/i,"dim").replace(/aug/i,"aug").trim()}var _={plan:"free",notationStyle:"english"};function P(n){return{major:[0,2,4,5,7,9,11],ionian:[0,2,4,5,7,9,11],dorian:[0,2,3,5,7,9,10],phrygian:[0,1,3,5,7,8,10],lydian:[0,2,4,6,7,9,11],mixolydian:[0,2,4,5,7,9,10],minor:[0,2,3,5,7,8,10],aeolian:[0,2,3,5,7,8,10],locrian:[0,1,3,5,6,8,10]}[n.toLowerCase()]||null}function O(n,r){let o=c(n),t=c(r);return o===4&&t===7?"maj":o===3&&t===7?"min":o===3&&t===6?"dim":o===4&&t===8?"aug":"maj"}function F(n,r){return r==="maj"?n:r==="min"?n+"m":r==="dim"?n+"dim":r==="aug"?n+"aug":n}function L(n,r){let o=a.indexOf(n);if(o===-1)return console.warn(`Invalid key: ${n}`),[];let t=P(r);if(!t||t.length<7)return console.warn(`Invalid or non-heptatonic scale: ${r}`),[];let e=[];for(let i=0;i<7;i++){let m=c(o+t[i]),u=a[m],p=t[(i+2)%7]-t[i],d=t[(i+4)%7]-t[i],f=O(p,d),x=F(u,f);e.push({degree:i+1,root:u,quality:f,symbol:x})}return e}function l(n,r){return L(n,r).map(o=>o.symbol)}function N(n){let r=n.split("/"),o=r[0],t=r[1]||void 0,e=o.match(/^([A-G](?:#|b)?)(.*)$/);if(!e)return null;let i=e[1],m=e[2]||"major";return{root:i,quality:m,bass:t}}function w(n,r){return l(n,r)}return S(M);})();
